:root {
  /* Gray theme */
  --gray-highlight: #dcdcdc;
  --gray-text: black;

  /* Brown theme */
  --brown-highlight: #986a33;
  --brown-text: white;

  /* Orange theme */
  --orange-highlight: #ff9351;
  --orange-text: white;

  /* Yellow theme */
  --yellow-highlight: #faff72;
  --yellow-text: black;

  /* Green theme */
  --green-highlight: #74de2e;
  --green-text: black;

  /* Blue theme */
  --blue-highlight: #3da5ff;
  --blue-text: white;

  /* Purple theme */
  --purple-highlight: #bf51e2;
  --purple-text: white;

  /* Pink theme */
  --pink-highlight: #ff74bc;
  --pink-text: white;

  /* Red theme */
  --red-highlight: #ff3737;
  --red-text: white;

  /* Menu item typography */
  --menu-font-size: 1.5rem;
  --menu-font-weight: bold;
}

/* --- Animations --- */

@keyframes subtlePulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes colorCycle {
  0%, 100% { filter: brightness(100%); }
  25% { filter: brightness(110%) saturate(120%); }
  50% { filter: brightness(90%) saturate(80%); }
  75% { filter: brightness(105%) saturate(110%); }
}

@keyframes gentleGlow {
  0%, 100% { box-shadow: 0 0 5px 0px transparent; }
  50% { box-shadow: 0 0 10px 3px var(--current-highlight-glow, rgba(255,255,255,.5)); }
}

/* Gray theme */
*:not(nav):not(nav *)[style*='color:var(--c-graTexSec)'],
*:not(nav):not(nav *)[style*='background:var(--ca-graBacSecTra)'] {
  background: var(--gray-highlight) !important;
  color: var(--gray-text) !important;
  border-radius: 4px;
}

.animated-highlights-active *:not(nav):not(nav *)[style*='color:var(--c-graTexSec)'],
.animated-highlights-active *:not(nav):not(nav *)[style*='background:var(--ca-graBacSecTra)'] {
  animation: subtlePulse 2s infinite ease-in-out;
}

/* Brown theme */
*:not(nav):not(nav *)[style*='color:var(--c-broTexSec)'],
*:not(nav):not(nav *)[style*='background:var(--ca-broBacSecTra)'] {
  background: var(--brown-highlight) !important;
  color: var(--brown-text) !important;
  border-radius: 4px;
}

.animated-highlights-active *:not(nav):not(nav *)[style*='color:var(--c-broTexSec)'],
.animated-highlights-active *:not(nav):not(nav *)[style*='background:var(--ca-broBacSecTra)'] {
  animation: colorCycle 3s infinite linear;
}

/* Orange theme */
*:not(nav):not(nav *)[style*='color:var(--c-oraTexSec)'],
*:not(nav):not(nav *)[style*='background:var(--ca-oraBacSecTra)'] {
  background: var(--orange-highlight) !important;
  color: var(--orange-text) !important;
  border-radius: 4px;
  --current-highlight-glow: var(--orange-highlight);
}

.animated-highlights-active *:not(nav):not(nav *)[style*='color:var(--c-oraTexSec)'],
.animated-highlights-active *:not(nav):not(nav *)[style*='background:var(--ca-oraBacSecTra)'] {
  animation: gentleGlow 2.2s infinite alternate;
}

/* Yellow theme */
*:not(nav):not(nav *)[style*='color:var(--c-yelTexSec)'],
*:not(nav):not(nav *)[style*='background:var(--ca-yelBacSecTra)'] {
  background: var(--yellow-highlight) !important;
  color: var(--yellow-text) !important;
  border-radius: 4px;
}

.animated-highlights-active *:not(nav):not(nav *)[style*='color:var(--c-yelTexSec)'],
.animated-highlights-active *:not(nav):not(nav *)[style*='background:var(--ca-yelBacSecTra)'] {
  animation: subtlePulse 2.5s infinite ease-in-out;
}

/* Green theme */
*:not(nav):not(nav *)[style*='color:var(--c-greTexSec)'],
*:not(nav):not(nav *)[style*='background:var(--ca-greBacSecTra)'] {
  background: var(--green-highlight) !important;
  color: var(--green-text) !important;
  border-radius: 4px;
}

.animated-highlights-active *:not(nav):not(nav *)[style*='color:var(--c-greTexSec)'],
.animated-highlights-active *:not(nav):not(nav *)[style*='background:var(--ca-greBacSecTra)'] {
  animation: colorCycle 3.5s infinite linear;
}

/* Blue theme */
*:not(nav):not(nav *)[style*='color:var(--c-bluTexSec)'],
*:not(nav):not(nav *)[style*='background:var(--ca-bluBacSecTra)'] {
  background: var(--blue-highlight) !important;
  color: var(--blue-text) !important;
  border-radius: 4px;
  --current-highlight-glow: var(--blue-highlight);
}

.animated-highlights-active *:not(nav):not(nav *)[style*='color:var(--c-bluTexSec)'],
.animated-highlights-active *:not(nav):not(nav *)[style*='background:var(--ca-bluBacSecTra)'] {
  animation: gentleGlow 2.5s infinite alternate;
}

/* Purple theme */
*:not(nav):not(nav *)[style*='color:var(--c-purTexSec)'],
*:not(nav):not(nav *)[style*='background:var(--ca-purBacSecTra)'] {
  background: var(--purple-highlight) !important;
  color: var(--purple-text) !important;
  border-radius: 4px;
}

.animated-highlights-active *:not(nav):not(nav *)[style*='color:var(--c-purTexSec)'],
.animated-highlights-active *:not(nav):not(nav *)[style*='background:var(--ca-purBacSecTra)'] {
  animation: subtlePulse 1.8s infinite ease-in-out;
}

/* Pink theme */
*:not(nav):not(nav *)[style*='color:var(--c-pinTexSec)'],
*:not(nav):not(nav *)[style*='background:var(--ca-pinBacSecTra)'] {
  background: var(--pink-highlight) !important;
  color: var(--pink-text) !important;
  border-radius: 4px;
  --current-highlight-glow: var(--pink-highlight);
}

.animated-highlights-active *:not(nav):not(nav *)[style*='color:var(--c-pinTexSec)'],
.animated-highlights-active *:not(nav):not(nav *)[style*='background:var(--ca-pinBacSecTra)'] {
  animation: gentleGlow 2.8s infinite alternate;
}

/* Red theme */
*:not(nav):not(nav *)[style*='color:var(--c-redTexSec)'],
*:not(nav):not(nav *)[style*='background:var(--ca-redBacSecTra)'] {
  background: var(--red-highlight) !important;
  color: var(--red-text) !important;
  border-radius: 4px;
}

.animated-highlights-active *:not(nav):not(nav *)[style*='color:var(--c-redTexSec)'],
.animated-highlights-active *:not(nav):not(nav *)[style*='background:var(--ca-redBacSecTra)'] {
  animation: colorCycle 2.8s infinite linear;
}

/* Enhanced font styling for all menu items */
[role='menuitem'] div[style*='background:'] {
  font-size: var(--menu-font-size) !important;
  font-weight: var(--menu-font-weight) !important;
}
